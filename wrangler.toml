name = "skyboundstories"
main = "dist/_worker.js/index.js"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

[site]
# Astro will output static assets into this directory during `astro build`.
bucket = "dist"

[build]
command = "npm run build"

# =======================================================
# 1. KV 繫結: 匹配程式碼中的 'env.COMMENTS_KV'
# =======================================================
[[kv_namespaces]]
binding = "__skyboundstories-workers_sites_assets"
# WARNING: PLEASE REPLACE the following IDs with your actual KV Namespace IDs
id = "6960dd0679b5438686c94552e6593669" 
preview_id = "11111111111111111111111111111111"

# =======================================================
# 2. AI 搜尋繫結: 匹配程式碼中的 'env.RAG_AI'
# =======================================================
[[ai_search]]
binding = "ai-search-tight-forest-e417"
# 這是您在 Cloudflare 控制台中的 AI Search (AutoRAG) 實例名稱
rag_name = "rough-smoke-b49b"

[vars]
# 您專案的其他環境變數
SITE_NAME = "Skyroute Enterprise Portfolio"
[observability]
enabled = false
head_sampling_rate = 1

[observability.logs]
enabled = true
head_sampling_rate = 1
persist = true
invocation_logs = true

[observability.traces]
enabled = true
persist = true
head_sampling_rate = 1
